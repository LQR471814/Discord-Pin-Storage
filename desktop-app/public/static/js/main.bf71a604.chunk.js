(this["webpackJsonpdiscord-pin-database"]=this["webpackJsonpdiscord-pin-database"]||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){e.exports=n(42)},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t){e.exports="data:image/png;base64,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"},36:function(e,t,n){},37:function(e,t,n){e.exports=n.p+"static/media/logo.b1b62f98.svg"},38:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(10),s=n.n(o),r=n(2),u=n(3),d=n(5),l=n(4),c=n(7),p=n(1),m=n(6),h=n.n(m),g=n(9),y=(n(32),n(11)),v=n.n(y),f=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).id=v()(),a.onMouseEnter=a.onMouseEnter.bind(Object(p.a)(a)),a.onMouseLeave=a.onMouseLeave.bind(Object(p.a)(a)),a.handleDelete=a.handleDelete.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"onMouseLeave",value:function(e){document.getElementById(this.id).style.display="none"}},{key:"onMouseEnter",value:function(e){document.getElementById(this.id).style.display="block"}},{key:"onDrag",value:function(e){e.preventDefault()}},{key:"handleDelete",value:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,this.props.websocket.send(JSON.stringify({type:"deleteMessage",apiToken:this.props.userData.apiToken,message:this.props.message}));case 3:t.preventDefault();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"Message",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.a.createElement("div",null,i.a.createElement("img",{className:"ProfilePicture",src:this.props.message.author.pfp,onDragStart:this.onDrag,alt:"",width:"32",height:"32",style:{userSelect:"none"}})),i.a.createElement("div",{className:"Information",id:"MessageText",style:{width:"100%"}},i.a.createElement("div",{className:"MessageInformation"},i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",null,i.a.createElement("h3",{className:"Author"},this.props.message.author.name)),i.a.createElement("div",null,i.a.createElement("h4",{className:"Date"},this.props.message.date.month,"/",this.props.message.date.day,"/",this.props.message.date.year," ",this.props.message.date.hour,":",this.props.message.date.minute," ",this.props.message.date.timeOfDay))),i.a.createElement("span",{className:"DeleteButton",style:{display:"none"},id:this.id,onClick:this.handleDelete},"x")),i.a.createElement("div",null,i.a.createElement("p",{className:"MessageContent"},this.props.message.value))))}}]),n}(i.a.Component),b=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={messages:a.props.messages},a.updateMessages=a.updateMessages.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"updateMessages",value:function(e){this.setState({messages:e})}},{key:"render",value:function(){var e=this;return this.props.messages.map((function(t){return i.a.createElement(f,{key:v()(),websocket:e.props.websocket,message:t,userData:e.props.userData})}))}}]),n}(i.a.Component),E=Object(c.b)((function(e){return{messages:e.displayMessages.messages,websocket:e.websocketInit,userData:e.setUserData}}))(b),A=(n(34),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"handleButton",value:function(e){document.getElementById("PinFormContainer").className="FormLabel",document.getElementById("PinFormContainer").style.display="block"}},{key:"handleDrag",value:function(e){e.preventDefault()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",null,i.a.createElement("img",{src:n(35),onDragStart:this.handleDrag,onClick:this.handleButton,alt:"",height:"60",width:"60"})))}}]),a}(i.a.Component)),k=(n(36),function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"onDrag",value:function(e){e.preventDefault()}},{key:"render",value:function(){return i.a.createElement("div",{id:"AppDiv",style:{filter:"blur(5px)",transition:"all 0.2s"}},i.a.createElement("div",{className:"TitleContainer",id:"Title",style:{userSelect:"none"}},i.a.createElement("img",{src:n(37),onDragStart:this.onDrag,alt:"Logo",height:"60",width:"60",style:{marginLeft:"10px",marginRight:"10px"}}),i.a.createElement("span",{className:"Title"},"A Database of Random Out of Context Messages")),i.a.createElement("div",{id:"Body"},i.a.createElement(E,{id:"MessageContainer"})),i.a.createElement("div",null,i.a.createElement(A,null)))}}]),a}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(16),n(38);var D=n(18),w=n.n(D),C=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={closeAnimation:"FormLabel",showWindow:!1,error:""},a.apiEndpoint="https://discord.com/api",a.client=a.props.websocket,window.addEventListener("beforeunload",(function(e){a.client.close()})),a.checkingCode=!1,a.userData={},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a.onCancel=a.onCancel.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"updateStatus",value:function(e){document.getElementById("WaitingOnAuthLabel").textContent=e,this.forceUpdate()}},{key:"handleClick",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),this.setState({showWindow:!0}),document.getElementById("AuthorizeButton").style.display="none",document.getElementById("WaitingOnAuthAnimation").style.display="block",document.getElementById("WaitingOnAuthLabel").style.display="block",this.code={code:""},this.checkingCode=!0;case 7:if(""!==this.code.code){e.next=15;break}return e.next=10,fetch("http://localhost:9000/?fetch",{method:"GET",contentType:"application/json"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}));case 10:return this.code=e.sent,e.next=13,new Promise((function(e){return setTimeout(e,500)}));case 13:e.next=7;break;case 15:return this.checkingCode=!1,this.setState({showWindow:!1}),this.updateStatus("Fetching API token..."),(n=new URLSearchParams).append("client_id","725568553989832724"),n.append("client_secret","-8yd2RwRURx9GMROrTswXAkPCji-f8nW"),n.append("grant_type","authorization_code"),n.append("code",this.code.code),n.append("redirect_uri","http://localhost:9000"),n.append("scope","identify"),e.next=27,fetch(this.apiEndpoint+"/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}).then((function(e){return e.json()})).then((function(e){return a.tokenData=e}));case 27:return this.updateStatus("Getting user data..."),e.next=30,fetch("https://discord.com/api/users/@me",{method:"GET",headers:{Authorization:"Bearer "+this.tokenData.access_token}}).then((function(e){return e.json()})).then((function(e){return a.userData=e}));case 30:this.props.updateUserData(this.userData.username,"https://cdn.discordapp.com/avatars/"+this.userData.id+"/"+this.userData.avatar+".png?size=128",this.tokenData.access_token),this.updateStatus("Connecting to Server..."),this.client.onmessage=function(e){var t=JSON.parse(e.data);switch(t.type){case"auth":"false"===t.content?(console.log("Unauthorized"),document.getElementById("WaitingOnAuthAnimation").style.display="none",document.getElementById("WaitingOnAuthLabel").style.display="none",a.setState({error:"ERROR: Unauthorized."})):a.updateStatus("Login authorized! Waiting for messages...");break;case"messageData":a.updateStatus("Rendering messages..."),a.props.updateMessages(JSON.parse(t.content).messages),document.getElementById("WaitingOnAuthAnimation").style.display="none",a.updateStatus(""),document.getElementById("RegisterTitle").textContent="Logging in!",a.setState({closeAnimation:"FormLabel CloseForm"});break;case"refreshMessages":a.props.updateMessages(t.messages.messages)}},this.updateStatus("Relaying API token to Server..."),this.client.send(JSON.stringify({type:"apiToken",content:this.tokenData.access_token})),t.preventDefault();case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleAnimationEnd",value:function(e){document.getElementById("RegisterLabel").style.display="none",document.getElementById("AppDiv").style.filter="none"}},{key:"handleWindowBlocked",value:function(){alert("Unable to show auth window, please disable popup blocker!")}},{key:"onCancel",value:function(){!0===this.checkingCode&&window.location.reload(!1)}},{key:"render",value:function(){return i.a.createElement("div",{className:this.state.closeAnimation,style:{width:"25%"},id:"RegisterLabel",onAnimationEnd:this.handleAnimationEnd},i.a.createElement("p",{className:"MediumTitle",id:"RegisterTitle"},"Login with Discord"),i.a.createElement("p",{className:"ErrorText",id:"RegisterErrorLabel"},this.state.error),i.a.createElement("p",{className:"SmallTitle",id:"WaitingOnAuthLabel",style:{display:"none"}},"Waiting for authorization with discord API..."),i.a.createElement("div",{className:"loader",id:"WaitingOnAuthAnimation"},"Loading..."),i.a.createElement("input",{className:"SubmitButton",id:"AuthorizeButton",value:"Login",type:"submit",onClick:this.handleClick}),this.state.showWindow&&i.a.createElement(w.a,{url:"https://discord.com/api/oauth2/authorize?client_id=725568553989832724&redirect_uri=http%3A%2F%2Flocalhost%3A9000&response_type=code&scope=identify",onBlock:this.handleWindowBlocked,onUnload:this.onCancel}))}}]),n}(i.a.Component),O=Object(c.b)((function(e){return{websocket:e.websocketInit}}),(function(e){return{updateMessages:function(t){return e({type:"SET_DISPLAY_MESSAGES",messages:t})},updateUserData:function(t,n,a){return e({type:"SET_USER_DATA",username:t,pfp:n,apiToken:a})}}}))(C),B=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={value:"",date:"",time:""},a.client=a.props.websocket,a.handleCancel=a.handleCancel.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(p.a)(a)),a.handleTimeChange=a.handleTimeChange.bind(Object(p.a)(a)),a.handleClick=a.handleClick.bind(Object(p.a)(a)),a.handleAnimationEnd=a.handleAnimationEnd.bind(Object(p.a)(a)),a.setCurrentDate=a.setCurrentDate.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"messageChecks",value:function(){return""===this.state.time?(document.getElementById("PinErrorLabel").textContent="Time is empty!",!1):""===this.state.date?(document.getElementById("PinErrorLabel").textContent="Date is empty!",!1):""===this.state.value?(document.getElementById("PinErrorLabel").textContent="Message is empty!",!1):(document.getElementById("PinErrorLabel").textContent="",!0)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleDateChange",value:function(e){this.setState({date:e.target.value})}},{key:"handleTimeChange",value:function(e){this.setState({time:e.target.value})}},{key:"editPendingPin",value:function(e){return{type:"EDIT_PENDING_PIN",value:e.target.value}}},{key:"parseTime",value:function(e){try{var t=e.split(":"),n=parseInt(t[0]),a=parseInt(t[1]),i=e.slice(-2)}catch(o){return null}return n>12||n<1||a>59||a<1||"PM"!==i&&"AM"!==i?null:{hour:n,minute:a,timeOfDay:i}}},{key:"parseDate",value:function(e){try{var t=e.split("/"),n=parseInt(t[0]),a=parseInt(t[1]),i=parseInt(t[2])}catch(o){return null}return n>12||n<1||a>31||a<1||i<0?null:{month:n,day:a,year:i}}},{key:"setCurrentDate",value:function(e){var t=new Date,n=t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear(),a=t.getHours(),i="";a>12?(a-=12,i="PM"):i="AM";var o=a+":"+t.getMinutes()+i;this.setState({date:n,time:o}),document.getElementById("PinDateField").value=n,document.getElementById("PinTimeField").value=o,e.preventDefault()}},{key:"handleClick",value:function(){var e=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),!0!==this.messageChecks()){e.next=23;break}if(null!==(n=this.parseDate(this.state.date))){e.next=6;break}return this.setState({error:"Invalid date"}),e.abrupt("return");case 6:if(null!==(a=this.parseTime(this.state.time))){e.next=10;break}return this.setState({error:"Invalid time"}),e.abrupt("return");case 10:return e.prev=10,e.next=13,this.client.send(JSON.stringify({type:"addMessage",apiToken:this.props.userData.apiToken,value:this.state.value,author:{name:this.props.userData.username,pfp:this.props.userData.pfp},date:{month:n.month,day:n.day,year:n.year,hour:a.hour,minute:a.minute,timeOfDay:a.timeOfDay}}));case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(10),document.getElementById("PinErrorLabel").textContent="ERROR: Isn't connected to server! CODE: 000",t.preventDefault(),e.abrupt("return");case 20:document.getElementById("PinFormContainer").className="FormLabel CloseForm",document.getElementById("PinFormContainer").onanimationend=this.handleAnimationEnd,this.forceUpdate();case 23:t.preventDefault();case 24:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleAnimationEnd",value:function(e){this.setState({value:"",date:"",time:""}),document.getElementById("PinFormContainer").style.display="none",document.getElementById("PinInputField").value="",document.getElementById("PinDateField").value="",document.getElementById("PinTimeField").value=""}},{key:"handleCancel",value:function(e){document.getElementById("PinFormContainer").className="FormLabel CloseForm",document.getElementById("PinFormContainer").onanimationend=this.handleAnimationEnd}},{key:"updateDimensions",value:function(){window.innerWidth<200||window.innerWidth<234?document.getElementById("Body").style.paddingTop="410px":window.innerWidth<254?document.getElementById("Body").style.paddingTop="360px":window.innerWidth<290?document.getElementById("Body").style.paddingTop="300px":window.innerWidth<370?document.getElementById("Body").style.paddingTop="240px":window.innerWidth<507?document.getElementById("Body").style.paddingTop="180px":window.innerWidth<600||window.innerWidth<700||window.innerWidth<900||window.innerWidth<980?document.getElementById("Body").style.paddingTop="130px":document.getElementById("Body").style.paddingTop="70px"}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),document.getElementById("PinFormContainer").style.display="none"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){return i.a.createElement("div",{className:"FormLabel",id:"PinFormContainer"},i.a.createElement("span",{className:"InputTitle"},"Pin"),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("input",{className:"InputField",type:"text",name:"pin",id:"PinInputField",placeholder:"Message",onChange:this.handleChange,autoFocus:!0}),i.a.createElement("input",{className:"InputField",type:"text",name:"date",id:"PinDateField",placeholder:"MM/DD/YYYY",style:{width:"30%"},onChange:this.handleDateChange}),i.a.createElement("input",{className:"InputField",type:"text",name:"time",id:"PinTimeField",placeholder:"8:32PM",style:{width:"40%"},maxLength:"7",onChange:this.handleTimeChange}),i.a.createElement("input",{className:"SubmitButton",type:"submit",value:"Current Date",onClick:this.setCurrentDate})),i.a.createElement("p",{className:"ErrorText",id:"PinErrorLabel"}),i.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},i.a.createElement("input",{className:"SubmitButton",type:"submit",value:"Add",onClick:this.handleClick}),i.a.createElement("input",{className:"SubmitButton",type:"submit",value:"Cancel",onClick:this.handleCancel})))}}]),n}(i.a.Component),I=Object(c.b)((function(e){return{websocket:e.websocketInit,userData:e.setUserData}}),(function(e){return{updateMessages:function(t){return e({type:"SET_DISPLAY_MESSAGES",messages:t})}}}))(B),M=n(8);var L=n(19),P={messages:[{value:"Discord Pin Message System.",author:{name:"Johnny",pfp:"https://drive.google.com/uc?id=115Vbr-uUCl0fnMo0Z6z8033c_AxXXuJh&export=download"},date:{month:6,day:26,year:2020,hour:12,minute:22,timeOfDay:"PM"}},{value:"Is honestly great.",author:{name:"Jane",pfp:"https://drive.google.com/uc?id=1L5-vbLRputVVP1LTBLxPy7TwOVvyjpBA&export=download"},date:{month:6,day:26,year:2020,hour:12,minute:24,timeOfDay:"PM"}},{value:"Agreed.",author:{name:"Johnny",pfp:"https://drive.google.com/uc?id=115Vbr-uUCl0fnMo0Z6z8033c_AxXXuJh&export=download"},date:{month:6,day:26,year:2020,hour:12,minute:30,timeOfDay:"PM"}},{value:"Boo!!!",author:{name:"Jack",pfp:"https://drive.google.com/uc?id=1gORCwALCZPGnO-Wswu9XEvyWZvNuPXv6&export=download"},date:{month:6,day:26,year:2020,hour:11,minute:31,timeOfDay:"PM"}},{value:"No?",author:{name:"Jack",pfp:"https://drive.google.com/uc?id=1gORCwALCZPGnO-Wswu9XEvyWZvNuPXv6&export=download"},date:{month:6,day:26,year:2020,hour:8,minute:32,timeOfDay:"AM"}},{value:"Absolutely not.",author:{name:"Johnny",pfp:"https://drive.google.com/uc?id=115Vbr-uUCl0fnMo0Z6z8033c_AxXXuJh&export=download"},date:{month:6,day:26,year:2020,hour:9,minute:33,timeOfDay:"AM"}},{value:"Awh...",author:{name:"Jack",pfp:"https://drive.google.com/uc?id=1gORCwALCZPGnO-Wswu9XEvyWZvNuPXv6&export=download"},date:{month:6,day:26,year:2020,hour:9,minute:35,timeOfDay:"AM"}},{value:"Fine!!!",author:{name:"Jack",pfp:"https://drive.google.com/uc?id=1gORCwALCZPGnO-Wswu9XEvyWZvNuPXv6&export=download"},date:{month:6,day:26,year:2020,hour:9,minute:36,timeOfDay:"AM"}},{value:"Good.",author:{name:"Jane",pfp:"https://drive.google.com/uc?id=1L5-vbLRputVVP1LTBLxPy7TwOVvyjpBA&export=download"},date:{month:6,day:26,year:2020,hour:9,minute:33,timeOfDay:"AM"}},{value:"Alright.",author:{name:"Johnny",pfp:"https://drive.google.com/uc?id=1gORCwALCZPGnO-Wswu9XEvyWZvNuPXv6&export=download"},date:{month:6,day:26,year:2020,hour:9,minute:33,timeOfDay:"AM"}}]};var R=Object(M.b)({displayMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DISPLAY_MESSAGES":return Object.assign({},e,{messages:t.messages});default:return e}},setUserData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object.assign({},e,{username:t.username,pfp:t.pfp,apiToken:t.apiToken});default:return e}},websocketInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L.w3cwebsocket("ws://192.168.1.2:4000"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEBSOCKET":return t.websocket;default:return e}}}),x=Object(M.c)(R);s.a.render(i.a.createElement(c.a,{store:x},i.a.createElement(k,{messages:x.getState().displayMessages.messages}),i.a.createElement(I,null),i.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.bf71a604.chunk.js.map